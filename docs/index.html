<!doctype html>
<html>
  <head>
    


<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Getting Started with Cf-for-K8s"/>
<link rel="canonical" content="https://cf-for-k8s.io/docs/">
<link rel="icon" type="image/png" href="/images/favicon.png">






<meta property="og:title" content="Getting Started with Cf-for-K8s · Cloud Foundry for Kubernetes">
<meta property="og:type" content="website">
<meta property="og:url" content="https://cf-for-k8s.io/docs/">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Cloud Foundry for Kubernetes">
<meta property="og:description" content="Getting Started with Cf-for-K8s">
<meta property="og:type" content="article">
<meta property="og:image" content="https://cf-for-k8s.io/images/cf-for-k8s-logo.png">
<meta property="og:image:alt" content="CF for K8s project logo">
<meta property="og:image:type" content="image/jpeg">






<meta property="twitter:title" content="Getting Started with Cf-for-K8s · Cloud Foundry for Kubernetes">
<meta property="twitter:card" content="summary">
<meta property="twitter:image" content="https://cf-for-k8s.io/images/cf-for-k8s-logo.png">
<meta property="twitter:image:alt" content="CF for K8s project logo">
<meta property="twitter:site" content="@">
<meta property="twitter:creator" content="@">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Source+Sans+Pro:400,400i,600" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cf-for-k8s.io/scss/site.css" integrity="" media="screen">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

    
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-PVB2G57');</script>
    

    <script>
      function addAnchor(element) {
        if (element.id === "" || element.getElementsByTagName("a").length > 0) {
          return;
        }

        


        element.innerHTML =
        `${element.innerHTML}`;
      }

      document.addEventListener('DOMContentLoaded', function () {
        const headers = document.querySelectorAll('h1, h2, h3, h4, h5');
        if (headers) {
          headers.forEach(addAnchor);
        }
      });
    </script>

    <title>Getting Started with Cf-for-K8s · Cloud Foundry for Kubernetes</title>
  </head>
  <body>
    
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PVB2G57"
      height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    
    <header class="container">
  <a href="https://cf-for-k8s.io/" class="logo"><img src="/images/logo.svg" alt="CF For K8s Logo"></a>
  <input type="checkbox" id="mobile-nav-toggle">
  <label for="mobile-nav-toggle"></label>
  <ul>
    
    
      
      <li><a class=""  href="/">Home</a></li>
    
      
      <li><a class=""  href="/features/">Features</a></li>
    
      
      <li><a class="active"  href="/docs/">Docs</a></li>
    
      
      <li><a class="" target='_blank' href="https://medium.com/@cf-release-integration">Blog</a></li>
    
    <li><a href="https://github.com/cloudfoundry/cf-for-k8s" class="github-button icon-button bg-blue button">GitHub</a></li>
  </ul>
</header>

    

<div class='docs'>
  <div class="container">
    <div class='row'>
      <div class='col-md-4 docs-sidebar'>
        <nav class='sidebar'>
  <ul>
      <li data-nav-id="/docs/" class="dd-item depth-0">
        <a href="/docs/">Getting Started with Cf-for-K8s</a>
        <ul class="ml-2">
        </ul>
      </li>
      <li data-nav-id="/docs/deploying/" class="dd-item depth-0 haschildren">
        <a href="/docs/deploying/">Deploying cf-for-k8s</a>
          <ul class="ml-2">
      <li data-nav-id="/docs/deploying/deploy-local/" class="dd-item depth-1">
        <a href="/docs/deploying/deploy-local/">Deploying CF for K8s Locally</a>
      </li>
      <li data-nav-id="/docs/deploying/deploy-in-ci/" class="dd-item depth-1">
        <a href="/docs/deploying/deploy-in-ci/">Deploy CF for K8s in CI</a>
      </li>
          </ul>
      </li>
      <li data-nav-id="/docs/platform_operators/" class="dd-item depth-0 haschildren">
        <a href="/docs/platform_operators/">Managing cf-for-k8s foundations</a>
          <ul class="ml-2">
      <li data-nav-id="/docs/platform_operators/platform-availability/" class="dd-item depth-1">
        <a href="/docs/platform_operators/platform-availability/">Platform Availability</a>
      </li>
      <li data-nav-id="/docs/platform_operators/networking/" class="dd-item depth-1 haschildren">
        <a href="/docs/platform_operators/networking/">Networking</a>
          <ul class="ml-2">
      <li data-nav-id="/docs/platform_operators/networking/gateway-access-logs/" class="dd-item depth-2">
        <a href="/docs/platform_operators/networking/gateway-access-logs/">Gateway Access Logs</a>
      </li>
      <li data-nav-id="/docs/platform_operators/networking/ingress-routing-topology/" class="dd-item depth-2">
        <a href="/docs/platform_operators/networking/ingress-routing-topology/">Ingress Routing</a>
      </li>
      <li data-nav-id="/docs/platform_operators/networking/networking-metrics-and-monitoring/" class="dd-item depth-2">
        <a href="/docs/platform_operators/networking/networking-metrics-and-monitoring/">Networking Metrics</a>
      </li>
      <li data-nav-id="/docs/platform_operators/networking/sidecar-access-logs/" class="dd-item depth-2">
        <a href="/docs/platform_operators/networking/sidecar-access-logs/">Sidecar Access Logs</a>
      </li>
          </ul>
      </li>
      <li data-nav-id="/docs/platform_operators/config-values/" class="dd-item depth-1">
        <a href="/docs/platform_operators/config-values/">Deploy Parameters</a>
      </li>
      <li data-nav-id="/docs/platform_operators/warning-regarding-kubectl-usage/" class="dd-item depth-1">
        <a href="/docs/platform_operators/warning-regarding-kubectl-usage/">kubectl Warning</a>
      </li>
      <li data-nav-id="/docs/platform_operators/rotating-secrets-and-certs/" class="dd-item depth-1">
        <a href="/docs/platform_operators/rotating-secrets-and-certs/">Rotating Secrets</a>
      </li>
      <li data-nav-id="/docs/platform_operators/scaling/" class="dd-item depth-1">
        <a href="/docs/platform_operators/scaling/">Scaling</a>
      </li>
      <li data-nav-id="/docs/platform_operators/setup-external-syslog-destinations/" class="dd-item depth-1">
        <a href="/docs/platform_operators/setup-external-syslog-destinations/">Setting Up External Syslog Destinations</a>
      </li>
      <li data-nav-id="/docs/platform_operators/setup-static-loadbalancer-ip/" class="dd-item depth-1">
        <a href="/docs/platform_operators/setup-static-loadbalancer-ip/">Setup a static IP for loadbalancer</a>
      </li>
      <li data-nav-id="/docs/platform_operators/setup-ingress-certs-with-letsencrypt/" class="dd-item depth-1">
        <a href="/docs/platform_operators/setup-ingress-certs-with-letsencrypt/">Setup ingress certs with Lets Encrypt</a>
      </li>
      <li data-nav-id="/docs/platform_operators/system-registry-management/" class="dd-item depth-1">
        <a href="/docs/platform_operators/system-registry-management/">System Registry Management</a>
      </li>
      <li data-nav-id="/docs/platform_operators/upgrades/" class="dd-item depth-1">
        <a href="/docs/platform_operators/upgrades/">Upgrading CF</a>
      </li>
      <li data-nav-id="/docs/platform_operators/external-blobstore/" class="dd-item depth-1">
        <a href="/docs/platform_operators/external-blobstore/">Using external blobstore</a>
      </li>
      <li data-nav-id="/docs/platform_operators/external-databases/" class="dd-item depth-1">
        <a href="/docs/platform_operators/external-databases/">Using external databases</a>
      </li>
          </ul>
      </li>
      <li data-nav-id="/docs/contributing/" class="dd-item depth-0 haschildren">
        <a href="/docs/contributing/">Contributing <br>(for Component Developers)</a>
          <ul class="ml-2">
      <li data-nav-id="/docs/contributing/code-of-conduct/" class="dd-item depth-1">
        <a href="/docs/contributing/code-of-conduct/">Code Of Conduct</a>
      </li>
      <li data-nav-id="/docs/contributing/networking/" class="dd-item depth-1">
        <a href="/docs/contributing/networking/">Networking Configuration for System Components</a>
      </li>
          </ul>
      </li>
      <li data-nav-id="/docs/debugging/" class="dd-item depth-0">
        <a href="/docs/debugging/">Debugging</a>
      </li>
      <li data-nav-id="/docs/maintaining/" class="dd-item depth-0 haschildren">
        <a href="/docs/maintaining/">Maintaining <br>(for Release Integration Engineers)</a>
          <ul class="ml-2">
      <li data-nav-id="/docs/maintaining/preparing-for-development/" class="dd-item depth-1 collapse">
        <a href="/docs/maintaining/preparing-for-development/">Developing CF Components</a>
      </li>
      <li data-nav-id="/docs/maintaining/maintainers/" class="dd-item depth-1 collapse">
        <a href="/docs/maintaining/maintainers/">Maintainers</a>
      </li>
          </ul>
      </li>
    </ul>
  
</nav>



      </div>
      <div class='col-md-8 docs-content'>
        <div class="support-links">
  
    
    
    <a href="https://github.com/cloudfoundry/cf-for-k8s-docs/issues/new?body=%2A%2AOn&#43;Page%3A%2A%2A&#43;%5BGetting&#43;Started&#43;with&#43;Cf-for-K8s%5D%28https%3A%2F%2Fcf-for-k8s.io%2Fdocs%2F%29"
       class="btn-light blue-text btn-small icon-button blank inline-flex" target="_blank">Report Issues</a>

    
    
    <a href="https://github.com/cloudfoundry/cf-for-k8s-docs/edit/main/content/docs/_index.md?description=Signed-off-by%3A&#43;NAME&#43;%3CEMAIL_ADDRESS%3E%0A%0A%3E&#43;_By&#43;signing&#43;off&#43;you&#43;acknowledge&#43;adhering&#43;to&#43;the&#43;requirements&#43;listed&#43;here%3A&#43;https%3A%2F%2Fprobot.github.io%2Fapps%2Fdco%2F_"
       class="btn-light blue-text btn-small icon-button github-button inline-flex" target="_blank">Edit</a>
    
  
</div>


        <div class="heading">
          <h1 class="title">Getting Started with Cf-for-K8s</h1>
        </div>

        <h1 id="getting-started-with-cf-for-k8s">Getting Started with Cf-for-K8s</h1>
<p>This tutorial guides you through your first <code>cf push</code> experience.</p>
<p>In order to get there you first need to deploy cf-for-k8s. The platform that provides the developer experience on top of Kubernetes. So, let’s get started.</p>
<h2 id="pre-requisites">Pre-requisites</h2>
<h3 id="machine-requirements">Machine requirements</h3>
<p>This tutorial will guide you through installing a local kubernetes cluster with the following machine requirements, see that your computer can handle them:</p>
<ul>
<li>have a minimum of 1 node</li>
<li>have a minimum of 4 CPU, 6GB memory per node (preferably 6+ CPU and 8+ GB memory)</li>
</ul>
<h3 id="tooling">Tooling</h3>
<p>You’ll also need a few CLIs before you start:</p>
<ul>
<li><a href="https://kind.sigs.k8s.io/docs/user/quick-start/">kind</a>, the CNCF project for creating kubernetes clusters locally</li>
<li><a href="https://carvel.dev/#install">ytt</a>, the cli used to render kubernetes templates</li>
<li><a href="https://carvel.dev/#install">kapp</a>, the cli used to deploy cf-for-k8s</li>
<li><a href="https://bosh.io/docs/cli-v2-install/#install">BOSH CLI</a>; a handy tool to generate self signed certs and passwords, used by generate-values</li>
<li><a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git">git</a>; the tool we use to interact with the cf-for-k8s repository</li>
<li>a <a href="https://hub.docker.com">Dockerhub</a> account; cf-for-k8s will use this account to store your application images</li>
<li><a href="https://docs.cloudfoundry.org/cf-cli/install-go-cli.html">cf CLI</a> (<strong>version 7+</strong>), the cli used to interact with Cloud Foundry</li>
</ul>
<h2 id="installing-cf-for-k8s">Installing Cf-for-K8s</h2>
<p>First things first, git clone the cf-for-k8s repository. This repository contains our templated k8s yaml files:</p>
<pre><code>git clone https://github.com/cloudfoundry/cf-for-k8s.git -b main
cd cf-for-k8s
TMP_DIR=&lt;your-tmp-dir-path&gt;; mkdir -p ${TMP_DIR}
</code></pre><p>Note: if you would like to use the latest release, replace the branch reference in the clone command with that release tag. (E.G. <code>-b v1.0.0</code>)</p>
<p>Next, create the local kubernetes cluster that we will deploy cf-for-k8s to presently:</p>
<pre><code>kind create cluster --config=./deploy/kind/cluster.yml --image kindest/node:v1.20.2
</code></pre><p>NOTE: the versions of kubernetes that cf-for-k8s supports are <a href="https://github.com/cloudfoundry/cf-for-k8s/blob/develop/supported_k8s_versions.yml">here</a>.</p>
<p>Create your cf values file. This is the file that configures your deployment:</p>
<pre><code>$ ./hack/generate-values.sh -d vcap.me &gt; ${TMP_DIR}/cf-values.yml
$ cat &lt;&lt; EOF &gt;&gt; ${TMP_DIR}/cf-values.yml
app_registry:
  hostname: https://index.docker.io/v1/
  repository_prefix: &quot;&lt;my_username&gt;&quot;
  username: &quot;&lt;my_username&gt;&quot;
  password: &quot;&lt;my_password&gt;&quot;

add_metrics_server_components: true
enable_automount_service_account_token: true
load_balancer:
  enable: false
metrics_server_prefer_internal_kubelet_address: true
remove_resource_requirements: true
EOF
</code></pre><p>If you are using Kubernetes cluster versions 1.18 or 1.19, include this additional value in your install values file:</p>
<pre><code>$ cat &lt;&lt; EOF &gt;&gt; ${TMP_DIR}/cf-values.yml
use_first_party_jwt_tokens: true
EOF
</code></pre><p>NOTES:</p>
<ol>
<li>You must supply an OCI-compliant container registry. Dockerhub is recommended.</li>
<li>The additional properties configure your cf-for-k8s to run on a local kind cluster.</li>
</ol>
<p>With our input values configured we are now ready to deploy cf-for-k8s:</p>
<pre><code>$ kapp deploy -a cf -f &lt;(ytt -f config -f ${TMP_DIR}/cf-values.yml)
</code></pre><p>Running this command should take about 10 minutes or less. <code>kapp</code> will provide updates as it progresses:</p>
<pre><code>...
4:08:19PM: ---- waiting on 1 changes [0/1 done] ----
4:08:19PM: ok: reconcile serviceaccount/cc-kpack-registry-service-account (v1) namespace: cf-workloads-staging
4:08:19PM: ---- waiting complete [5/10 done] ----
...
</code></pre><p>When deployment has finished you can log into Cloud Foundry:</p>
<pre><code>$ cf api api.vcap.me --skip-ssl-validation
$ cf auth admin &quot;$(grep cf_admin_password ${TMP_DIR}/cf-values.yml | cut -d&quot; &quot; -f2)&quot;
</code></pre><h2 id="experiencing-your-first-cf-push">Experiencing your first <code>cf push</code></h2>
<p>Before we can push an application we need to create an organization and space for your application to exist in.</p>
<p>NOTE: Cloud Foundry supports the development workflows of very large organizations, you can read more about
how Cloud Foundry achieves that <a href="https://docs.cloudfoundry.org/concepts/roles.html">here</a>.</p>
<pre><code>$ cf create-org my-org
$ cf create-space my-space -o my-org
$ cf target -o my-org -s my-space
</code></pre><p>Now, we are ready to push our first app:</p>
<pre><code>$ cd ..
$ git clone https://github.com/cloudfoundry-samples/test-app.git
$ cd test-app
$ cf push test-app
</code></pre><p>You will notice that what we pushed is source code. Yet Kubernetes runs containers. Just some of the magic of Cloud Foundry is is that it can perform the staging and deployment of your application. Leaving you to concentrate on your code.</p>
<p>Once deployed, open your browser and visit test-app.vcap.me:</p>
<p><img src="./assets/test-app.png" alt=""></p>
<p>Congratulations. You just pushed your first application to CloudFoundry. As the tagline says “Here is my source code. Run it on the cloud for me. I do not care how.”</p>


        

        <hr>
<div>
    <h3>CF for K8s version: <a href="https://github.com/cloudfoundry/cf-for-k8s/releases/tag/v5.0.0">v5.0.0</a></h3>
</div>

      </div>
    </div>
  </div>
</div>





    <footer>
  
  <div class="bg-black">
    <div class="container footer clearfix">
      <div class="logo">
        <a href="https://cf-for-k8s.io/"><img src="/images/logo-white.svg" class="footer-logo"></a>
      </div>
      <div class="info">
        <p>cf for k8s is a Cloud Foundry Project</p>
        <p class="sub-info">Hugo template graciously copied from buildpacks.io</p>
      </div>
      <ul>
        <li><a href="https://cloudfoundry.slack.com/?redir=%2Farchives%2FCH9LF6V1P" target="_blank"><img src="/images/slack.png"></a></li>
        <li><a href="https://lists.cloudfoundry.org/g/cf-dev/topics" target="_blank"><img src="/images/mail.png"></a></li>
        <li><a href="https://twitter.com/cloudfoundry" target="_blank"><img src="/images/twitter.png"></a></li>
        <li><a href="https://github.com/cloudfoundry/cf-for-k8s" target="_blank"><img src="/images/github.png"></a></li>
      </ul>
    </div>
  </div>
</footer>

  </body>
</html>
